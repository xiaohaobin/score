<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<center>
			<h2>My97DatePicker日期控件的使用</h2>
		</center>
		基本用法：
		<br/>
		只能选择月：<input id="" class="Wdate" onfocus="WdatePicker({dateFmt:'yyyy-MM'})" /><br><br> 
		只能选择年：<input id="" class="Wdate" onfocus="WdatePicker({dateFmt:'yyyy'})" /><br><br>
		
		<input id="" class="Wdate" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true})" /><br><br> 只能选择今天以前的日期：
		<input id="" class="Wdate" onfocus="WdatePicker({readOnly:true,maxDate:'%y-%M-%d'})" /><br><br> 使用运算表达式 只能选择 20小时前 至 30小时后 的日期
		<input id="" class="Wdate" onClick="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm',minDate:'%y-%M-%d {%H-20}:%m:%s',maxDate:'%y-%M-%d {%H+30}:%m:%s'})" /><br><br> 开始，结束日期：

		<!-- $dp.$ 相当于 document.getElementById 函数. -->
		<input id="sdate" class="Wdate" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true,maxDate:'#F{$dp.$D(\'edate\')}'})" /> -
		<input id="edate" class="Wdate" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true,minDate:'#F{$dp.$D(\'sdate\')}',startDate:'#F{$dp.$D(\'sdate\',{d:+1})}'})" /><br><br>
			
		<div>
			日期格式的任意切换：
			<div>
				<button type="button" class="sys_date_btn" data-param="1">时</button>
				<button type="button" class="sys_date_btn" data-param="2">日</button>
				<button type="button" class="sys_date_btn" data-param="3">月</button>
				<button type="button" class="sys_date_btn" data-param="4">年</button>
			</div>
			<div>
				<input type="text" class="Wdate sys_date_input">
			</div>
		</div>	
			
		<div>
			<pre>
				使用参数：
				var _w={  
				    $wdate:true,  
				    $dpPath:"",  
				    $crossFrame:true,  
				    doubleCalendar:false, //是否双月日历  
				    autoUpdateOnChanged:false,  
				    position:{}, //位置如：position:{left:100,top:50}  
				    lang:"auto",  
				    skin:"default", //皮肤  
				    dateFmt:"yyyy-MM-dd", //日期格式  
				    realDateFmt:"yyyy-MM-dd",  
				    realTimeFmt:"HH:mm:ss",  
				    realFullFmt:"%Date %Time",  
				    minDate:"1900-01-01 00:00:00", //最小日期  
				    maxDate:"2099-12-31 23:59:59", //最大日期  
				    startDate:"", //起始日期  
				    alwaysUseStartDate:false, //当日期框无论是何值,始终使用 startDate 做为起始日期  
				    yearOffset:1911,  
				    firstDayOfWeek:0, //自定义星期的第一天  
				    isShowWeek:false, //是否显示周  
				    highLineWeekDay:true, //高亮周日  
				    isShowClear:true, //是否显示清空  
				    isShowToday:true, //是否显示今天  
				    isShowOK:true,  //是否显示OK  
				    isShowOthers:true,  
				    readOnly:false, //是否只读  
				    qsEnabled:true,  
				    errDealMode:0, //自动纠错功能  
				    //0 在输入错误日期时,会先提示   
				    //1 在输入错误日期时,自动恢复前一次正确的值  
				    //2 在输入错误日期时,不做提示和更改,只是做一个标记,但此时日期框不会马上隐藏  
				    autoPickDate:null, //点两次才能选择日期的原因  
				    //为false时 点日期的时候不自动输入,而是要通过确定才能输入  
				    //为true时 即点击日期即可返回日期值  
				    //为null时(推荐使用) 如果有时间置为false 否则置为true  
				    specialDates:null, //特殊日期  
				    specialDays:null,  //特殊天  
				    disabledDates:null, //无效日期 如：disabledDates:['5$']  
				    disabledDays:null, //无效天 如：disabledDays:[6]  
				    opposite:false, //有效日期
				   }
			</pre>
		</div>
		
		<script src="WdatePicker.js" type="text/javascript" charset="utf-8"></script>
		<script src="jquery.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var date_param = "1";
			var dateConfing = {readOnly:true,maxDate:'%y-%M-%d'};
			$('.sys_date_btn').on('click',function(){
				var p = $(this).attr("data-param");
				// date_param = p;
				if(p == 1){
					dateConfing = {readOnly:true,maxDate:'%y-%M-%d'};
					$('.sys_date_input').unbind('click');
				}else if(p == 2){
					dateConfing = {dateFmt:'yyyy-MM-dd',readOnly:true};
					$('.sys_date_input').unbind('click');
				}else if(p == 3){
					dateConfing = {dateFmt:'yyyy-MM',readOnly:true};
					$('.sys_date_input').unbind('click');
				}else if(p == 4){
					dateConfing = {dateFmt:'yyyy',readOnly:true};
					$('.sys_date_input').unbind('click');
				}
			});
			$('.sys_date_input').bind("click",function(){							
				WdatePicker(dateConfing);
				console.log(12);
			});
		</script>
	</body>